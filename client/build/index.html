<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
    <meta name="theme-color" content="#000000">
    <link rel="manifest" href="/manifest.json">
    <link rel="shortcut icon" href="/favicon.ico">
    <title>WebGL Gource</title>
  <link href="static/css/gource.main.css" rel="stylesheet"></head>
  <body>
    <noscript>
      You need to enable JavaScript to run this app.
    </noscript>
    <div id="gource-root"></div>
      <script>

        config = {
          git: {
            owner: 'input-output-hk',
            repo: 'cardano-sl',
            branch: 'develop',
            commitHash: '', // hash of commit to load
            commitDate: '', // date to load (YYYY-MM-DD)
            loadLatest: true // load latest commit in db
          },
          display: {
            showUI: true,
            showSidebar: true
          },
          FDG: {
            nodeSpritePath: 'textures/dot.png', // path to node texture
            nodeUpdatedSpritePath: 'textures/dot-concentric.png', // path to node updated state texture
            fontTexturePath: 'textures/UbuntuMono.png', // path to font texture
            autoPlay: false,
            delayAmount: 1000, // time in between new commits being added to the graph
            sphereProject: 0, // project graph onto sphere? 1 == true, 0 == false
            usePicker: false, // show file commit details on click
            pickerLoadingPath: '/assets/images/loading.svg', // show file commit details on click
            sphereRadius: 500, // radius of sphere if in sphere projection mode
            showFilePaths: true, // display filepath overlay on nodes
            colorCooldownSpeed: 0.05, // speed at which node colors cycle
            cycleColors: false, // cycle colors based on file edit time from red to blue to white
            colorPalette: [ // colors to use if cycleColors is switched off (colors cannot contain)
              '#eb2256',
              '#f69ab3',
              '#1746a0',
              '#6f9cef',
              '#652b91',
              '#0e5c8d',
              '#1fc1c3'
            ]
          },
          scene: {
            fullScreen: true,
            width: 800,
            height: 600,
            bgColor: 0x121327,
            antialias: false,
            canvasID: 'gource-stage', // ID of webgl canvas element
            autoRotate: false, // auto rotate camera around target
            autoRotateSpeed: 0.001 // speed of auto rotation
          },
          post: {
            vignette: true
          },
          camera: {
            fov: 45,
            initPos: {x: 0, y: 0, z: 1600},
            enableZoom: true // enable camera zoom on mousewheel/pinch gesture
          }
        }

        window.onload = function() {

          if (gource.canRun()) {

            gource.init(config).on('ready', function() {

              gource.on('nodeMouseOver', function(data) {
                document.querySelector('html').style.cursor = 'pointer'
              })

              gource.on('nodeMouseOut', function(data) {
                document.querySelector('html').style.cursor = 'default'
              })

              /**
               * Available methods
               */

              // document.addEventListener('click', () => {
              //   gource.destroy()
              // })

              // gource.loadCommit('18b737fa3bf08d2dc3e5faa6ecee60262fb3af8c')

              // document.addEventListener('click', () => {
              //    gource.setConfig({
              //     FDG: {
              //       showFilePaths: false
              //      }
              //    })
              //  })

              // gource.getFirstCommit().then(data => {
              //   console.log(data)
              // })

              // gource.getlastCommit().then(data => {
              //   console.log(data)
              // })

              // gource.on('commitChanged', (data) => {
              //   console.log(data)
              // })

              // gource.setDate('2018-01-01')

              // gource.setSphereView(true)

              // gource.setPlay(true)

              // document.addEventListener('click', () => {
              //   gource.goToPrev()
              // })

              // document.addEventListener('click', () => {
              //   gource.goToNext()
              // })

            })
          }

        }
    </script>
  <script type="text/javascript" src="static/js/gource.main.js"></script></body>
</html>
